# 2021-06-12

-   Tive que fazer alterações no código para que fosse possivel usa-lo no heroku (Alterar colation do banco e alterar string length).

# 2021-06-16

-   Instalei Auth e projeto de tradução em pt_BR do git para alterar todas as mensagens do Auth.
-   Instalei validações pt-br (CPF, CEP, etc...)

# 2021-06-18

-   Estou usando apenas scripts js importados e com "defer" para que eles sejam executados na ordem certa.
-   Instalei inputmask e coloquei o modulo dentro de app.js

# 2021-06-19

-   composer require doctrine/dbal (para poder alterar colunas em migrations)

# 2021-06-22

-   Testes com laravel-auditing
-   -   composer require owen-it/laravel-auditing
-   -   php artisan vendor:publish --provider "OwenIt\Auditing\AuditingServiceProvider" --tag="config"
-   -   php artisan vendor:publish --provider "OwenIt\Auditing\AuditingServiceProvider" --tag="migrations"
-   -   php artisa migrate
-   -   Editei algumas configurações em config/audit.php
-   -   OBS: Essa ferramenta não faz o log as tabelas de relacionamento, apenas dos modelos

# 2021-07-01

-   DotENV extensão do VS Code instalada.
-   Alterando timezone do projeto para America/Sao_Paulo (coloquei um br_timezones também)
-   composer require mpdf/mpdf (testando)
-   VsCode (HTML CSS support, Laravel blade formatter, Laravel blade snippets, php debug, php extension pack, php intelephense) plugins.

# 2021-07-02

-   coloquei o codigo antigo que troca o titulo do pdf aqui. (não garanto que vai rolar o nogo codigo 100%)

    //remove Title metadata (doing that today)
    $docContent = Storage::disk('local')->get($document_urn);
    $newTitle = utf8_decode('Documento');
    $updatedContent = preg_replace('/\/Title \(.\*\)/', '/Title (' . $newTitle . ')', $docContent);
    Storage::disk('local')->put($document_urn, $updatedContent);

# 2021-07-03

-   Tive que voltar o método para o anterior, pois estava dando erro com alguns pdfs. (vou deixar aqui o codigo para referencia futura)

    //remove Title metadata (I what to do that instead)
    $tempFile = tmpfile();
    fwrite($tempFile, Storage::disk('local')->get($document_urn));
    $mpdf = new \Mpdf\Mpdf();
    $pageCount = $mpdf->setSourceFile($tempFile);
    for ($i = 1; $i <= $pageCount; $i++) {
        $imported_page = $mpdf->importPage($i);
    $templateSize = $mpdf->getTemplateSize($imported_page);
    $mpdf->AddPageByArray([
            'orientation' => $templateSize['orientation'],
            'sheet-size' => ($templateSize['orientation'] === "P") ? [$templateSize['width'], $templateSize['height']] : [$templateSize['height'], $templateSize['width']]
        ]);
        $mpdf->useTemplate($imported_page, 0, 0, $templateSize['width'], $templateSize['height']);
    }
    $mpdf->SetTitle('Documento');
    $updatedContent = $mpdf->Output('ignored_string', 'S');
    Storage::disk('local')->put($document_urn, $updatedContent);
    fclose($tempFile);
